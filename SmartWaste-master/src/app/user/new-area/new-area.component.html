<div class="container">
    <h2 class="mb-4">Available Areas</h2>
    <button class="btn btn-primary mb-3" (click)="openAddModal()">Add Area</button>

    <!-- Table -->
    <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead class="table-light">
            <tr>
                <th>#</th>
                <th>Area</th>
                <th>Address</th>
                <th>Latitude</th>
                <th>Longitude</th>
                <th>Dry</th>
                <th>Wet</th>
                <th>RFID</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let area of areas; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ area.area }}</td>
                <td>{{ area.address }}</td>
                <td>{{ area.lat }}</td>
                <td>{{ area.lon }}</td>
                <td>{{ area.dry }}</td>
                <td>{{ area.wet }}</td>
                <td>{{ area.rf_id }}</td>
                <td>
                    <button class="btn btn-warning btn-sm me-2" (click)="openEditModal(area)">Edit</button>
                </td>
            </tr>
            <tr *ngIf="areas.length === 0">
                <td colspan="9" class="text-center">No areas available.</td>
            </tr>
        </tbody>
    </table>
    </div>
</div>

<!-- Modal -->
<div id="areaModal" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">{{ modalTitle }}</h5>
                <button type="button" class="close" (click)="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label for="area">Area</label>
                        <input id="area" formControlName="area" type="text" class="form-control"
                            [attr.disabled]="isEditMode ? true : null" />
                    </div>
                    <div class="form-group">
                        <label for="address">Address</label>
                        <input id="address" formControlName="address" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="lat">Latitude</label>
                        <input id="lat" formControlName="lat" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="lon">Longitude</label>
                        <input id="lon" formControlName="lon" type="text" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="dry">Dry</label>
                        <input id="dry" formControlName="dry" type="number" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="wet">Wet</label>
                        <input id="wet" formControlName="wet" type="number" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="rf_id">RFID</label>
                        <input id="rf_id" formControlName="rf_id" type="text" class="form-control" />
                    </div>
                    <button type="submit" class="btn btn-primary mt-3" [disabled]="dataForm.invalid">
                        {{ isEditMode ? 'Update Area' : 'Add Area' }}
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>